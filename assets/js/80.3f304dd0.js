(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{636:function(t,s,a){"use strict";a.r(s);var l=a(35),c=Object(l.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"python-多进程与子进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-多进程与子进程"}},[t._v("#")]),t._v(" Python 多进程与子进程")]),t._v(" "),a("h2",{attrs:{id:"多进程-multiprocessing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多进程-multiprocessing"}},[t._v("#")]),t._v(" 多进程 "),a("code",[t._v("multiprocessing")])]),t._v(" "),a("p",[t._v("进程池与 map")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" time")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" multiprocessing ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Pool")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("Num_Processes ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("4")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("func_single_arg")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(a):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    time.sleep(")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("return")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("*")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("func_multi_args")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(a, b):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    time.sleep(")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("return")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("*")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" b")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("main")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("():")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    single_arg_list ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" [")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("2")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("3")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("4")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("]")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    multi_args_list ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" [(")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("2")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("), (")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("3")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("4")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("), (")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("5")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("6")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("), (")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("7")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("8")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")]")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("with")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Pool(Num_Processes) ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("as")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" pool:")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#6A737D"}},[t._v("## 使用多进程运行接受单个参数的函数")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        results ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" pool.map(func_single_arg, single_arg_list)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(results)")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#6A737D"}},[t._v("## 使用多进程运行接受多个参数的函数")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        results ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" pool.starmap(func_multi_args, multi_args_list)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(results)")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#6A737D"}},[t._v("## imap 可以与 tqdm 配合显示进度条（实际上并不准确，见后文）")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        results ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" pool.imap(func_single_arg, single_arg_list):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(results)")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("if")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("__name__")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("==")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"__main__"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(":")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    main()")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("[1, 4, 9, 16]\n[2, 12, 30, 56]\n[1, 4, 9, 16]\n")])])]),a("h3",{attrs:{id:"gracefully-interrupt-pool-with-ctrl-c"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gracefully-interrupt-pool-with-ctrl-c"}},[t._v("#")]),t._v(" Gracefully interrupt Pool with "),a("code",[t._v("Ctrl-C")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("pool_init")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("():")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#6A737D"}},[t._v("# ignore the SIGINI in sub process")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("sig_int")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(signal_num, frame):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("pass")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    signal.signal(signal.")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("SIGINT")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", sig_int)")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("pool ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Pool(n_processes, pool_init)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#005CC5"}},[t._v("...")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("try")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(":")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("...")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("except")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("KeyboardInterrupt")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(":")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("...")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("h2",{attrs:{id:"子进程-subprocess"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子进程-subprocess"}},[t._v("#")]),t._v(" 子进程 "),a("code",[t._v("subprocess")])]),t._v(" "),a("p",[a("code",[t._v("run")])]),t._v(" "),a("h2",{attrs:{id:"tqdm-和-imap-并不能显示真正的进度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tqdm-和-imap-并不能显示真正的进度"}},[t._v("#")]),t._v(" "),a("code",[t._v("tqdm")]),t._v(" 和 "),a("code",[t._v("imap")]),t._v(" 并不能显示真正的进度")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#6A737D"}},[t._v("## Python 3.8+")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" time")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" multiprocessing ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Pool")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tqdm ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tqdm")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("Num_Processes ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("5")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("Num_Args ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("10")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("func")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(a):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    time.sleep((Num_Args ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("-")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a) ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("*")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("0.2")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    result ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("**")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("2")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("f")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"a=')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("a")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v(" squared is ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("result")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("return")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" result")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("main")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("():")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    arg_list ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("range")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(Num_Args)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("f")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("arg_list")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("with")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Pool(Num_Processes) ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("as")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" pool:")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        results ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("list")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("            tqdm(")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("                pool.imap(func, arg_list),")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("                ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("total")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("len")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(arg_list),")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("                ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("bar_format")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{l_bar}{bar")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v(":30")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}{r_bar}{bar")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v(":-30b")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("            )")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        )")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("f")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("results")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("if")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("__name__")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("==")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"__main__"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(":")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    main()")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("p",[t._v("Output")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("arg_list=range(0, 10)\n  0%|                              | 0/10 [00:00<?, ?it/s]\na=4 squared is 16\na=3 squared is 9\na=2 squared is 4\na=1 squared is 1\na=0 squared is 0\n 10%|███                           | 1/10 [00:02<00:19,  2.20s/it]\na=6 squared is 36\na=8 squared is 64\na=5 squared is 25\n 60%|██████████████████            | 6/10 [00:02<00:01,  2.94it/s]\na=7 squared is 49\na=9 squared is 81\n100%|██████████████████████████████| 10/10 [00:02<00:00,  3.84it/s]\nresults=[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]\n")])])]),a("p",[t._v("顺序靠后而提前结束的进程并不会更新进度条")])])}),[],!1,null,null,null);s.default=c.exports}}]);