(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{640:function(t,s,a){"use strict";a.r(s);var l=a(35),o=Object(l.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"python-代码片段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-代码片段"}},[t._v("#")]),t._v(" Python 代码片段")]),t._v(" "),a("h2",{attrs:{id:"用户目录与临时目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户目录与临时目录"}},[t._v("#")]),t._v(" 用户目录与临时目录")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" os.path ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" expanduser")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tempfile ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" gettempdir")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("expanduser(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"~/somewhere"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#6A737D"}},[t._v('## -> "C:\\\\Users\\\\<user_name>/somewhere" (on Windows)')])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("gettempdir()")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("h2",{attrs:{id:"在命令行打印进度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在命令行打印进度"}},[t._v("#")]),t._v(" 在命令行打印进度")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("f")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("progress")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v(":.2f")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('%"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("end")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("\\r")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("flush")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("True")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("p",[t._v("或者使用 "),a("code",[t._v("tqdm")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" functools ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" partial")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tqdm ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tqdm ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("as")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" std_tqdm")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("tqdm ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" partial(std_tqdm, ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("bar_format")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{l_bar}{bar")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v(":30")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}{r_bar}{bar")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v(":-30b")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("leave")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("False")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("bar ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tqdm(items, ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("desc")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"description"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("total")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("len")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(items))")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("for")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" item ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("in")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" bar:")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("...")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    bar.write(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"..."')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("h2",{attrs:{id:"gui-相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gui-相关"}},[t._v("#")]),t._v(" GUI 相关")]),t._v(" "),a("h3",{attrs:{id:"弹出消息框"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#弹出消息框"}},[t._v("#")]),t._v(" 弹出消息框")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tkinter ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Tk, messagebox")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#6A737D"}},[t._v("## Get rid of the root window")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Tk()")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.title(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"Title"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.attributes(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"-alpha"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("0.0")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.wm_state(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"iconic"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("messagebox.showinfo(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"Title"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"Message"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.destroy()")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("h3",{attrs:{id:"弹出-toast-消息-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#弹出-toast-消息-windows"}},[t._v("#")]),t._v(" 弹出 Toast 消息 (Windows)")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#6A737D"}},[t._v("# pip install winrt")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" winrt.windows.data.xml.dom ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("as")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" dom")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" winrt.windows.ui.notifications ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ToastNotification, ToastNotificationManager")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("title ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"Hello"')])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("msg ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"world!"')])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("toast")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(title, msg):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    toast_xml ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("f")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"<toast>')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("\\")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#032F62"}},[t._v("        <visual><binding template='ToastText01'>")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("\\")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#032F62"}},[t._v("            <text id='1'>")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("msg")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v("</text>")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("\\")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#032F62"}},[t._v("        </binding></visual>")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("\\")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#032F62"}},[t._v('    </toast>"')])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    toast_xmldoc ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" dom.XmlDocument()")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    toast_xmldoc.load_xml(toast_xml)")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    notifier ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ToastNotificationManager.create_toast_notifier(title)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    notifier.show(ToastNotification(toast_xmldoc))")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("toast(title, msg)")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("p",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/uwp/schemas/tiles/toastschema/schema-root",target:"_blank",rel:"noopener noreferrer"}},[t._v("Toast schema - Microsoft Docs"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Toast XML example:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki github-light",staticStyle:{"background-color":"#fff"},attrs:{tabindex:"0"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" winrt.windows.ui.notifications ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ToastTemplateType")])]),t._v("\n"),a("span",{staticClass:"line"}),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("template ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ToastTemplateType.")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("TOAST_IMAGE_AND_TEXT01")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("toast_xmldoc ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ToastNotificationManager.get_template_content(template)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(toast_xmldoc.get_xml())")])]),t._v("\n"),a("span",{staticClass:"line"})])])]),a("h3",{attrs:{id:"打包成-exe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包成-exe"}},[t._v("#")]),t._v(" 打包成 exe")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("pyinstaller --onefile --noconsole main.py\n")])])]),a("h4",{attrs:{id:"附更改图标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附更改图标"}},[t._v("#")]),t._v(" 附：更改图标")]),t._v(" "),a("p",[t._v("用 Resource Hacker 打开要改图标的 exe，"),a("code",[t._v("Action > Replace Icon ...")]),t._v("，然后选择一个有图标的 exe 替换（比如 "),a("code",[t._v("pythonw.exe")]),t._v("）")])])}),[],!1,null,null,null);s.default=o.exports}}]);